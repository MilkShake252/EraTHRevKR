;_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/#
;
;	[ここに구상主名を入れる]구상 휴식系アクション구상ファイル
;
;	휴식系アクション구상をまとめたファイル
;
;_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/#

;========================================================================
;휴식系 ACT90～92
;========================================================================
;・TFLAG:ACT(90=휴식시킨다/91=영양제를 먹인다/92=치료한다)
;・TFLAG:ACT분류 == 9に該当
;・汎用リアクションにおいてはMENUMATCH(TFLAG:ACT, "휴식")で参照する事が可能
;・ACT91, 영양제를 먹인다とACT92, 치료한다の発生には特定の素質が条件となる
;-------------------------------------------------

;────────────────────────────────────
;ACT90, 휴식시킨다
;────────────────────────────────────
;・この時点では命令のみ
;・안면승마系は解除される
;・구속系TEQUIP(밧줄/눈가리개/볼개그/삼각목마)は解除される
;・汚れはリセットされる
;・죠교자、죠교대상の자위は中断
;・リアクションが"자위를 시작한다"だった場合"勝손に자위をし始めた"に派生する
;・지속系도구(바이브/항문바이브/항문비즈/관장그릇＋플러그/유두캡)장착時は
;・도구のせいであまり休めなかったに派生する
;-------------------------------------------------
@KOJO_ACT_KX1_90
;-------------------------------------------------
;・TFLAG:ACT파생(0=普通に休んだ/1=도구のせいであまり休めなかった/2=勝손に자위をし始めた)
;・ACT파생への代入は@ACTION_APPLY2_90で行われ、これを参照できるのはREACT以降(即ち、ACTでは参照はできない)
;-------------------------------------------------
;・地の文に分岐なし。内容は以下の通り
;・%CALLNAME:TARGET%は%CALLNAME:MASTER%を休ませ自分も休もうと했다…
;-------------------------------------------------
;━━━━━━━━━━━━━━━━━━━━━━━━
;ACT90, 휴식시킨다
;記入チェック（=0, 非表示、1, 表示、2, 表示して미약等구상をスキップ）
LOCAL = 0
;━━━━━━━━━━━━━━━━━━━━━━━━
IF LOCAL
	;=================================================
	;도구장착中の場合			REACT以降でTFLAG:ACT파생 == 1になる
	;記入チェック
	LOCAL:1 = 0
	;=================================================
	IF LOCAL:1 && TRUECHECK(TEQUIP:바이브, TEQUIP:항문바이브, TEQUIP:항문비즈, TEQUIP:관장그릇＋플러그, TEQUIP:유두캡) > 0
;OriginalString : 
		PRINTFORMW 
		RETURN LOCAL:1
	ENDIF
	
	;=================================================
	;その他・条件無し
	;記入チェック
	LOCAL:1 = 0
	;=================================================
	IF LOCAL:1
;OriginalString : 
		PRINTFORMW 
		RETURN LOCAL:1
	ENDIF
ENDIF

;────────────────────────────────────
;ACT91, 영양제를 먹인다
;────────────────────────────────────
;・この時点では命令のみ
;・죠교대상のリアクションが"거부한다"であった場合は"栄養剤を捨てた"に派生する
;・その他の反応の場合は"栄養剤を飲んだ"扱いになる
;・죠교자にTALENT:배합지식が無い場合は発生しない(배합지식自体はSHOPでの購入が可能)
;・미약を使用することもある
;・TEQUIP(볼개그/삼각목마)は解除される
;・안면승마系、자위系は解除される
;-------------------------------------------------
@KOJO_ACT_KX1_91
;-------------------------------------------------
;・TFLAG:ACT파생(0=栄養剤を飲んだ/1=栄養剤を捨てた)
;・ACT파생への代入は@ACTION_APPLY2_91で行われ、これを参照できるのはREACT以降(即ち、ACTでは参照はできない)
;-------------------------------------------------
;・地の文に分岐なし。内容は以下の通り
;・%CALLNAME:TARGET%は特製の栄養剤を取り出して%CALLNAME:MASTER%に飲ませようと했다…
;-------------------------------------------------
;━━━━━━━━━━━━━━━━━━━━━━━━
;ACT91, 영양제를 먹인다
;記入チェック（=0, 非表示、1, 表示、2, 表示して미약等구상をスキップ）
LOCAL = 0
;━━━━━━━━━━━━━━━━━━━━━━━━
IF LOCAL
	;미약등사용地の文はACT_MESSAGE_OTHERS.ERB内@USE_MESSAGEから呼び出される
	;%CALLNAME:TARGET%は%CALLNAME:MASTER%に미약を使った… とあくまでも汎用処理なので미약入り栄養剤という扱いではない
	;TFLAG:미약등사용지문스킵のビットをクリアする事で殺せるので필요に応じて구상側で捏造してもいいでしょう
	;=================================================
	;미약を併用
	;記入チェック
	LOCAL:1 = 0
	;=================================================
	IF LOCAL:1 && GETBIT(TFLAG:미약등사용, 1)
		CLEARBIT TFLAG:미약등사용구상, 1
		;미약使用の追加地の文を殺す際は"미약등사용지문스킵"のコメンアウトを解除
		;CLEARBIT TFLAG:미약등사용지문스킵, 1
;OriginalString : 
		PRINTFORMW 
		RETURN 2
		;戻り値2である場合は@KOJO_USE_KX(미약등사용구상)を呼び出さない
		;基本的にRETURN LOCALでLOCALの値を戻り値にする形にしていますがこの箇所は決めうちしておきます
	ENDIF
	
	;=================================================
	;その他・条件無し
	;記入チェック
	LOCAL:1 = 0
	;=================================================
	IF LOCAL:1
;OriginalString : 
		PRINTFORMW 
		RETURN LOCAL:1
	ENDIF
ENDIF

;────────────────────────────────────
;ACT92, 치료한다
;────────────────────────────────────
;・죠교자が죠교대상を치료しようとする
;・REACT분류が"날뛴다"であった場合は"暴れたため치료できなかった"に派生する
;・その他の場合は"体の隅々まで撫で回して치료했다"という扱い
;・죠교자にTALENT:치료がなければ発生しない
;・미약を使用することもある
;・TEQUIP:삼각목마は解除される
;・안면승마系、자위系は解除される
;-------------------------------------------------
@KOJO_ACT_KX1_92
;-------------------------------------------------
;・TFLAG:ACT파생(0=体の隅々まで撫で回して치료했다/1=暴れたため치료できなかった)
;・ACT파생への代入は@ACTION_APPLY2_92で行われ、これを参照できるのはREACT以降(即ち、ACTでは参照はできない)
;-------------------------------------------------
;・地の文に分岐なし。内容は以下の通り
;・%CALLNAME:TARGET%は%CALLNAME:MASTER%を치료しようと했다…
;-------------------------------------------------
;━━━━━━━━━━━━━━━━━━━━━━━━
;ACT92, 치료한다
;記入チェック（=0, 非表示、1, 表示、2, 表示して미약等구상をスキップ）
LOCAL = 0
;━━━━━━━━━━━━━━━━━━━━━━━━
IF LOCAL
	;=================================================
	;미약を併用
	;記入チェック
	LOCAL:1 = 0
	;=================================================
	IF LOCAL:1 && GETBIT(TFLAG:미약등사용, 1)
		CLEARBIT TFLAG:미약등사용구상, 1
		;미약使用の追加地の文を殺す際は"미약등사용지문스킵"のコメンアウトを解除
		;CLEARBIT TFLAG:미약등사용지문스킵, 1
;OriginalString : 
		PRINTFORMW 
		RETURN 2
		;戻り値2である場合は@KOJO_USE_KX(미약등사용구상)を呼び出さない
		;基本的にRETURN LOCALでLOCALの値を戻り値にする形にしていますがこの箇所は決めうちしておきます
	ENDIF
	
	;=================================================
	;その他・条件無し
	;記入チェック
	LOCAL:1 = 0
	;=================================================
	IF LOCAL:1
;OriginalString : 
		PRINTFORMW 
		RETURN LOCAL:1
	ENDIF
ENDIF
